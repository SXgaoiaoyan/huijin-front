webpackJsonp([11],{527:function(e,t,a){"use strict";function s(e){n||a(623)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(572),o=a(624),n=!1,i=a(185),l=s,p=i(r.a,o.a,!1,l,"data-v-9cf963ea",null);p.options.__file="src\\views\\companyReg.vue",t.default=p.exports},541:function(e,t,a){e.exports=a.p+"dca7eb4608af4f52f124b7e45b052d3b.png"},542:function(e,t,a){e.exports=a.p+"4318fb99ec5ca71fae0d726d8c781caa.png"},572:function(e,t,a){"use strict";function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r=a(43),o=a.n(r);t.a={data:function(){var e,t=this,a=function(e,a,s){""===a?s(new Error("Please enter your password")):(""!==t.formCustom.passwdCheck&&t.$refs.formCustom.validateField("passwdCheck"),s())},r=function(e,a,s){""===a?s(new Error("Please enter your password again")):a!==t.formCustom.passwd?s(new Error("The two input passwords do not match!")):s()},o=function(e,a,s){return a?11!=a.length?s(new Error("请输入正确手机号")):void t.ajax.post("/api/checkRepetitionPhone",{phone:a}).then(function(e){1==e.data.repetition?s(new Error("此手机号已经注册过，请更换手机号")):s()}).catch(function(e){}):s(new Error("手机号不能为空"))};return e={apiurl:APIURL,time_d:60,phone_login_d:!0,checked_d:!1,sended_d:!1,current:0,resArr:[],phoneFormValidate:{phone_d:"",code_d:"",confirmation:""},phoneRuleValidate:{phone_d:[{validator:o,trigger:"blur"}],code_d:[{required:!0,message:" 验证码不能为空",trigger:"blur"},{type:"string",len:4,message:"请输入四位验证码",trigger:"blur"}],confirmation:[{type:"boolean",value:!0,message:"请点击同意条款",trigger:"change"}]},formCustom:{passwd:"",passwdCheck:""},ruleCustom:{passwd:[{validator:a,trigger:"blur"}],passwdCheck:[{validator:r,trigger:"blur"}]},formCompany:{name:"",sit:[],address:"",bussiness_license:[],trademark:[],people_number:"",company_industry:"",company_nature:"",business_volume:"",contact_name:"",section:""},ruleformCompany:{name:[{required:!0,message:" 公司名称不能为空",trigger:"blur"}],sit:[{required:!0,type:"array",min:2,message:"请选择公司所在地区",trigger:"change"}],address:[{required:!0,message:" 公司名称不能为空",trigger:"blur"}],bussiness_license:[{required:!0,type:"array",min:1,message:"请上传营业执照",trigger:"change"}],trademark:[{required:!0,type:"array",min:1,message:"请上传商标注册证",trigger:"change"}],people_number:[{required:!0,message:" 公司名称不能为空",trigger:"blur"}],company_industry:[{required:!0,message:" 公司名称不能为空",trigger:"blur"}],company_nature:[{required:!0,message:" 公司名称不能为空",trigger:"blur"}],business_volume:[{required:!0,message:" 公司名称不能为空",trigger:"blur"}],contact_name:[{required:!0,message:" 公司名称不能为空",trigger:"blur"}],section:[{required:!0,message:" 公司名称不能为空",trigger:"blur"}]},defaultList1:[],imgName:"",visible:!1,defaultList:[]},s(e,"imgName",""),s(e,"visible",!1),s(e,"headers",{}),s(e,"apiurl",APIURL),e},mounted:function(){var e=document.createElement("script");e.type="text/javascript",e.src="//captcha.luosimao.com/static/dist/api.js",e.onload=onload,document.body.appendChild(e),window.getCaptchaResponse=this.getCaptchaResponse,this.formCompany.trademark=this.$refs.upload.fileList,this.formCompany.bussiness_license=this.$refs.upload1.fileList,this.headers={Authorization:"Bearer "+o.a.get("token"),Accept:"application/vnd.huijin.v1+json"}},methods:{phone_reg:function(e){this.current+=1},bindPassword:function(e){this.current+=1},bindCompany:function(e){var t=this,a=this;this.$refs[e].validate(function(e){e?a.ajax.post("/api/bindCompany",{province:a.formCompany.sit[0].code,city:a.formCompany.sit[1].code,district:a.formCompany.sit[2].code,address:a.formCompany.address,bussiness_license:a.formCompany.bussiness_license[0].url,trademark:a.formCompany.trademark[0].url,people_number:a.formCompany.people_number,company_industry:a.formCompany.company_industry,company_nature:a.formCompany.company_nature,business_volume:a.formCompany.business_volume,contact_name:a.formCompany.contact_name,section:a.formCompany.section}).then(function(e){a.current+=1,a.$Message.success("登陆成功")}).catch(function(e){422==e.status_code&&a.$Message.error(e.message)}):t.$Message.error("Fail!")})},getCaptchaResponse:function(e){var t=this;this.ajax.post("/api/checkcaptcha",{captcha:e}).then(function(e){t.checked_d=!0}).catch(function(e){400==e.status_code&&(alert(e.message),LUOCAPTCHA.reset())})},send_code_m:function(){var e=this;this.ajax.post("/api/sendcode",{phone:e.phoneFormValidate.phone_d}).then(function(t){e.Interval(),e.sended_d=!0}).catch(function(e){400==e.status_code&&alert(e.message)})},Interval:function(){var e=this,t=function(){0==--e.time_d&&(clearInterval(a),e.time_d=60,e.checked_d=!1,e.sended_d=!1,LUOCAPTCHA.reset())},a=setInterval(t,1e3)},handleSuccess1:function(e,t){console.log(t),t.url=e.url,t.name=e.url},handleRemove1:function(e){var t=this.$refs.upload1.fileList;this.$refs.upload1.fileList.splice(t.indexOf(e),1)},handleView:function(e){this.imgName=e,this.visible=!0},handleRemove:function(e){var t=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(t.indexOf(e),1)},handleSuccess:function(e,t){t.url=e.url,t.name=e.url},handleFormatError:function(e){this.$Notice.warning({title:"The file format is incorrect",desc:"File format of "+e.name+" is incorrect, please select jpg or png."})},handleMaxSize:function(e){this.$Notice.warning({title:"Exceeding file size limit",desc:"File  "+e.name+" is too large, no more than 2M."})},handleBeforeUpload:function(){var e=this.formCompany.trademark.length<5;return e||this.$Notice.warning({title:"Up to five pictures can be uploaded."}),e}}}},623:function(e,t){},624:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("Layout",{staticClass:"layout"},[s("Header",{staticClass:"header"},[s("Row",[s("i-col",{attrs:{span:"3",offset:"1"}},[s("img",{staticClass:"logo",attrs:{src:"http://static.huijinjiu.com/LOGO.png"}})]),e._v(" "),s("i-col",{staticStyle:{"font-size":"23px","margin-top":"30px"},attrs:{span:"3",offset:"1"}},[e._v(" 欢迎登录\n        ")]),e._v(" "),s("i-col",{staticStyle:{"font-size":"16px","margin-top":"60px"},attrs:{span:"2",offset:"14"}},[e._v("\n          已有帐号?  \n          "),s("a",{staticStyle:{color:"red"}},[e._v("请登录")])])],1)],1),e._v(" "),s("div",{staticClass:"content"},[s("div",[s("Card",{staticStyle:{"margin-top":"76px",width:"600px","margin-left":"auto","margin-right":"auto"}},[s("Steps",{staticStyle:{"margin-left":"30px"},attrs:{current:e.current}},[s("Step",{attrs:{title:"第一步",content:"验证手机号"}}),e._v(" "),s("Step",{attrs:{title:"第二步",content:"填写帐号信息"}}),e._v(" "),s("Step",{attrs:{title:"第三步",content:"填写公司信息"}}),e._v(" "),s("Step",{attrs:{title:"成功",content:"注册成功"}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.current,expression:"current==0"}],staticStyle:{width:"420px","margin-left":"auto","margin-right":"auto"}},[s("Form",{ref:"phoneFormValidate",attrs:{model:e.phoneFormValidate,rules:e.phoneRuleValidate}},[s("FormItem",{attrs:{prop:"phone_d"}},[s("Input",{staticStyle:{"margin-top":"20px"},attrs:{type:"text",placeholder:"请输入常用手机号",clearable:"",size:"large"},model:{value:e.phoneFormValidate.phone_d,callback:function(t){e.$set(e.phoneFormValidate,"phone_d",t)},expression:"phoneFormValidate.phone_d"}},[s("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v(" 中国+86 ")])])],1),e._v(" "),s("FormItem",{directives:[{name:"show",rawName:"v-show",value:11==e.phoneFormValidate.phone_d.length,expression:"phoneFormValidate.phone_d.length==11"}],staticStyle:{margin:"0","margin-bottom":"18px"}},[s("div",{staticClass:"l-captcha",attrs:{"data-site-key":"a61ebded8b92ba71b5272a5f60fc1be7","data-callback":"getCaptchaResponse"}})]),e._v(" "),s("FormItem",{attrs:{prop:"code_d"}},[s("Input",{attrs:{type:"text",placeholder:"请输入短信验证码",clearable:"",size:"large"},model:{value:e.phoneFormValidate.code_d,callback:function(t){e.$set(e.phoneFormValidate,"code_d",t)},expression:"phoneFormValidate.code_d"}},[s("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("手机验证码")]),e._v(" --\x3e\n                "),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.checked_d,expression:"!checked_d"}],staticStyle:{cursor:"pointer"},attrs:{slot:"append"},on:{click:e.send_code_m},slot:"append"},[e._v("请先进行人机验证")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.checked_d&&!e.sended_d,expression:"checked_d&&!sended_d"}],staticStyle:{cursor:"pointer"},attrs:{slot:"append"},on:{click:e.send_code_m},slot:"append"},[e._v("发送验证码")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.sended_d,expression:"sended_d"}],staticStyle:{cursor:"pointer"},attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.time_d)+"s后重新获取")])])],1),e._v(" "),s("FormItem",{attrs:{prop:"confirmation"}},[s("Checkbox",{model:{value:e.phoneFormValidate.confirmation,callback:function(t){e.$set(e.phoneFormValidate,"confirmation",t)},expression:"phoneFormValidate.confirmation"}},[e._v("\n                  我已阅读并同意\n                  "),s("a",[e._v("\n                    <<喜马拉雅用户注册协议和隐私条款>> ")])])],1),e._v(" "),s("Button",{staticClass:"login",attrs:{type:"primary"},on:{click:function(t){e.phone_reg("phoneFormValidate")}}},[e._v("\n                下一步\n              ")]),e._v(" "),s("div",{staticStyle:{"margin-top":"15px"}},[s("router-link",{attrs:{to:"/personReg"}},[s("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:a(542)}}),e._v(" "),s("span",{staticStyle:{color:"black"}},[e._v("个人用户注册")])])],1)],1)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1==e.current,expression:"current==1"}],staticStyle:{width:"420px","margin-left":"auto","margin-right":"auto"}},[s("Form",{ref:"formCustom",attrs:{model:e.formCustom,rules:e.ruleCustom}},[s("FormItem",{attrs:{prop:"passwd"}},[s("Input",{staticStyle:{"margin-top":"20px"},attrs:{type:"password",size:"large"},model:{value:e.formCustom.passwd,callback:function(t){e.$set(e.formCustom,"passwd",t)},expression:"formCustom.passwd"}},[s("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("设置密码")])])],1),e._v(" "),s("FormItem",{attrs:{prop:"passwdCheck"}},[s("Input",{attrs:{type:"password",size:"large"},model:{value:e.formCustom.passwdCheck,callback:function(t){e.$set(e.formCustom,"passwdCheck",t)},expression:"formCustom.passwdCheck"}},[s("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("确认密码")])])],1),e._v(" "),s("FormItem",[s("Button",{staticClass:"login",on:{click:function(t){e.bindPassword("formCustom")}}},[e._v("下一步")])],1)],1),e._v(" "),s("div",{staticStyle:{"margin-top":"15px"}},[s("a",[s("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:a(542)}}),e._v(" "),s("span",{staticStyle:{color:"black"}},[e._v("个人用户注册")])])])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2==e.current,expression:"current==2"}],staticStyle:{width:"430px","margin-left":"auto","margin-right":"auto"}},[s("Form",{ref:"formCompany",attrs:{model:e.formCompany,rules:e.ruleformCompany}},[s("FormItem",{staticStyle:{"margin-top":"20px"},attrs:{prop:"name"}},[s("Row",[s("i-col",{staticStyle:{"font-size":"12px"},attrs:{span:"5"}},[e._v("\n                    公司名称: \n                  ")]),e._v(" "),s("i-col",{attrs:{span:"19"}},[s("Input",{staticStyle:{width:"300px"},attrs:{type:"text"},model:{value:e.formCompany.name,callback:function(t){e.$set(e.formCompany,"name",t)},expression:"formCompany.name"}})],1)],1)],1),e._v(" "),s("FormItem",{attrs:{prop:"sit"}},[s("Row",[s("i-col",{staticStyle:{"font-size":"12px"},attrs:{span:"5"}},[s("div",[e._v("\n                      公司所在地: \n                    ")])]),e._v(" "),s("i-col",{attrs:{span:"19"}},[s("al-selector",{staticStyle:{width:"300px"},attrs:{level:"2"},model:{value:e.formCompany.sit,callback:function(t){e.$set(e.formCompany,"sit",t)},expression:"formCompany.sit"}})],1)],1)],1),e._v(" "),s("FormItem",{attrs:{prop:"address"}},[s("Row",[s("i-col",{staticStyle:{"font-size":"12px"},attrs:{span:"5"}},[e._v("\n                    公司详细地址:\n                  ")]),e._v(" "),s("i-col",{attrs:{span:"19"}},[s("Input",{staticStyle:{width:"300px"},attrs:{type:"text"},model:{value:e.formCompany.address,callback:function(t){e.$set(e.formCompany,"address",t)},expression:"formCompany.address"}})],1)],1)],1),e._v(" "),s("FormItem",{attrs:{prop:"bussiness_license"}},[s("div",{staticStyle:{float:"left","line-height":"60px","font-size":"12px"}},[e._v("\n                  上传营业执照:\n                ")]),e._v("\n                    \n                "),e._l(e.formCompany.bussiness_license,function(t){return s("div",{staticClass:"demo-upload-list"},["finished"===t.status?[s("img",{attrs:{src:t.url}}),e._v(" "),s("div",{staticClass:"demo-upload-list-cover"},[s("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){e.handleView(t.name)}}}),e._v(" "),s("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(a){e.handleRemove1(t)}}})],1)]:[t.showProgress?s("Progress",{attrs:{percent:t.percentage,"hide-info":""}}):e._e()]],2)}),e._v(" "),s("Upload",{directives:[{name:"show",rawName:"v-show",value:0==e.formCompany.bussiness_license.length,expression:"formCompany.bussiness_license.length==0"}],ref:"upload1",staticStyle:{display:"inline-block",width:"58px"},attrs:{"show-upload-list":!1,"default-file-list":e.defaultList,"on-success":e.handleSuccess1,format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.handleBeforeUpload,type:"drag",action:e.apiurl+"/api/upload",headers:e.headers,name:"image"}},[s("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[s("Icon",{attrs:{type:"camera",size:"20"}})],1)])],2),e._v(" "),s("FormItem",{attrs:{prop:"trademark"}},[s("div",{staticStyle:{float:"left","line-height":"60px","font-size":"12px"}},[e._v("\n                  上传商标注册证:\n                ")]),e._v("\n                 \n                "),e._l(e.formCompany.trademark,function(t){return s("div",{staticClass:"demo-upload-list"},["finished"===t.status?[s("img",{attrs:{src:t.url}}),e._v(" "),s("div",{staticClass:"demo-upload-list-cover"},[s("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){e.handleView(t.name)}}}),e._v(" "),s("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(a){e.handleRemove(t)}}})],1)]:[t.showProgress?s("Progress",{attrs:{percent:t.percentage,"hide-info":""}}):e._e()]],2)}),e._v(" "),s("Upload",{directives:[{name:"show",rawName:"v-show",value:0==e.formCompany.trademark.length,expression:"formCompany.trademark.length==0"}],ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"show-upload-list":!1,"default-file-list":e.defaultList,"on-success":e.handleSuccess,format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.handleBeforeUpload,type:"drag",action:e.apiurl+"/api/upload",headers:e.headers,name:"image"}},[s("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[s("Icon",{attrs:{type:"camera",size:"20"}})],1)]),e._v(" "),s("Modal",{attrs:{title:"View Image"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.visible?s("img",{staticStyle:{width:"100%"},attrs:{src:e.imgName}}):e._e()])],2),e._v(" "),s("FormItem",{attrs:{prop:"people_number"}},[s("Row",[s("i-col",{staticStyle:{"font-size":"12px"},attrs:{span:"5"}},[e._v("\n                  公司人数: \n                  ")]),e._v(" "),s("i-col",{attrs:{span:"19"}},[s("Input",{staticStyle:{width:"300px"},attrs:{type:"text"},model:{value:e.formCompany.people_number,callback:function(t){e.$set(e.formCompany,"people_number",t)},expression:"formCompany.people_number"}})],1)],1)],1),e._v(" "),s("FormItem",{attrs:{prop:"company_industry"}},[s("Row",[s("i-col",{staticStyle:{"font-size":"12px"},attrs:{span:"5"}},[e._v("\n                    公司行业: \n                  ")]),e._v(" "),s("i-col",{attrs:{span:"19"}},[s("Input",{staticStyle:{width:"300px"},attrs:{type:"text"},model:{value:e.formCompany.company_industry,callback:function(t){e.$set(e.formCompany,"company_industry",t)},expression:"formCompany.company_industry"}})],1)],1)],1),e._v(" "),s("FormItem",{attrs:{prop:"company_nature"}},[s("Row",[s("i-col",{staticStyle:{"font-size":"12px"},attrs:{span:"5"}},[e._v("\n                    公司性质: \n                  ")]),e._v(" "),s("i-col",{attrs:{span:"19"}},[s("Input",{staticStyle:{width:"300px"},attrs:{type:"text"},model:{value:e.formCompany.company_nature,callback:function(t){e.$set(e.formCompany,"company_nature",t)},expression:"formCompany.company_nature"}})],1)],1)],1),e._v(" "),s("FormItem",{attrs:{prop:"business_volume"}},[s("Row",[s("i-col",{staticStyle:{"font-size":"12px"},attrs:{span:"5"}},[e._v("\n                    公司营业额: \n                  ")]),e._v(" "),s("i-col",{attrs:{span:"19"}},[s("Input",{staticStyle:{width:"300px"},attrs:{type:"text"},model:{value:e.formCompany.business_volume,callback:function(t){e.$set(e.formCompany,"business_volume",t)},expression:"formCompany.business_volume"}})],1)],1)],1),e._v(" "),s("FormItem",{attrs:{prop:"contact_name"}},[s("Row",[s("i-col",{staticStyle:{"font-size":"12px"},attrs:{span:"5"}},[e._v("\n                      联系人姓名: \n                  ")]),e._v(" "),s("i-col",{attrs:{span:"19"}},[s("Input",{staticStyle:{width:"300px"},attrs:{type:"text"},model:{value:e.formCompany.contact_name,callback:function(t){e.$set(e.formCompany,"contact_name",t)},expression:"formCompany.contact_name"}})],1)],1)],1),e._v(" "),s("FormItem",{attrs:{prop:"section"}},[s("Row",[s("i-col",{staticStyle:{"font-size":"12px"},attrs:{span:"5"}},[e._v("\n                所在部门: \n                ")]),e._v(" "),s("i-col",{attrs:{span:"19"}},[s("Input",{staticStyle:{width:"300px"},attrs:{type:"text"},model:{value:e.formCompany.section,callback:function(t){e.$set(e.formCompany,"section",t)},expression:"formCompany.section"}})],1)],1)],1),e._v(" "),s("FormItem",[s("Button",{staticClass:"login",on:{click:function(t){e.bindCompany("formCompany")}}},[e._v("\n                  立即注册\n                ")])],1)],1)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:3==e.current,expression:"current==3"}],staticStyle:{width:"430px","margin-left":"auto","margin-right":"auto"}},[s("img",{staticStyle:{"margin-left":"138px","margin-top":"40px"},attrs:{src:a(541)}}),e._v(" "),s("Br"),e._v(" "),s("Br"),e._v(" "),s("div",{staticStyle:{"font-size":"16px","text-align":"center"}},[e._v("\n              恭喜你成功注册!如不自动跳转请\n              "),s("a",{staticStyle:{color:"red"}},[e._v("点击这里")])])],1)],1)],1)]),e._v(" "),s("div",{staticClass:"footer"},[s("div",{staticStyle:{width:"750px","margin-left":"auto","margin-right":"auto",height:"14px"}},[s("ul",[s("li",[s("a",{attrs:{href:""}},[e._v("关于我们")])]),e._v(" "),s("li",[s("a",{attrs:{href:""}},[e._v("联系我们")])]),e._v(" "),s("li",[s("a",{attrs:{href:""}},[e._v("人才招聘")])]),e._v(" "),s("li",[s("a",{attrs:{href:""}},[e._v("商家入驻")])]),e._v(" "),s("li",[s("a",{attrs:{href:""}},[e._v("广告服务")])]),e._v(" "),s("li",[s("a",{attrs:{href:""}},[e._v("手机京东")])]),e._v(" "),s("li",[s("a",{attrs:{href:""}},[e._v("友情链接")])]),e._v(" "),s("li",[s("a",{attrs:{href:""}},[e._v("销售联盟")])]),e._v(" "),s("li",[s("a",{attrs:{href:""}},[e._v("京东社区")])]),e._v(" "),s("li",[s("a",{attrs:{href:""}},[e._v("京东公益")])]),e._v(" "),s("li",[s("a",{attrs:{href:""}},[e._v("English Site")])])])]),e._v(" "),s("div",{staticStyle:{width:"240px","margin-left":"auto","margin-right":"auto","margin-top":"15px"}},[e._v("\n        Copyright©2004-2018 京东JD.com版权所有\n      ")])])],1)],1)},r=[];s._withStripped=!0;var o={render:s,staticRenderFns:r};t.a=o}});