webpackJsonp([16],{526:function(e,t,a){"use strict";function s(e){i||a(607)}Object.defineProperty(t,"__esModule",{value:!0});var o=a(559),n=a(608),i=!1,r=a(185),d=s,c=r(o.a,n.a,!1,d,"data-v-a173851e",null);c.options.__file="src\\views\\bind.vue",t.default=c.exports},559:function(e,t,a){"use strict";t.a={data:function(){return{time_d:60,phone_login_d:!0,checked_d:!1,sended_d:!1,phoneFormValidate:{phone_d:"",code_d:""},phoneRuleValidate:{phone_d:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{type:"string",len:11,message:"请输入11位手机号",trigger:"blur"}],code_d:[{required:!0,message:" 验证码不能为空",trigger:"blur"},{type:"string",len:4,message:"请输入四位验证码",trigger:"blur"}]}}},mounted:function(){var e=document.createElement("script");e.type="text/javascript",e.src="//captcha.luosimao.com/static/dist/api.js",e.onload=onload,document.body.appendChild(e),window.getCaptchaResponse=this.getCaptchaResponse},methods:{phone_bind_m:function(e){var t=this,a=this;this.$refs[e].validate(function(e){e?(t.$Message.success("登陆成功"),a.ajax.post("/api/phonebind",{phone:a.phoneFormValidate.phone_d,code:a.phoneFormValidate.code_d,type:a.$route.query.type,oauth_id:a.$route.query.oauth_id}).then(function(e){a.$store.commit("login",e.data.token,e.data.user),a.$router.push({name:"home_content"})}).catch(function(e){403==e.status_code&&(a.$Message.error(e.message),LUOCAPTCHA.reset())})):t.$Message.error("登录失败")})},getCaptchaResponse:function(e){var t=this;this.ajax.post("/api/checkcaptcha",{captcha:e}).then(function(e){t.checked_d=!0}).catch(function(e){400==e.status_code&&(alert(e.message),LUOCAPTCHA.reset())})},send_code_m:function(){var e=this;this.ajax.post("/api/sendcode",{phone:e.phoneFormValidate.phone_d}).then(function(t){e.Interval(),e.sended_d=!0}).catch(function(e){400==e.status_code&&alert(e.message)})},Interval:function(){var e=this,t=function(){0==--e.time_d&&(clearInterval(a),e.time_d=60,e.checked_d=!1,e.sended_d=!1,LUOCAPTCHA.reset())},a=setInterval(t,1e3)}}}},607:function(e,t){},608:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Layout",{staticClass:"layout"},[a("Header",{staticClass:"header"},[a("Row",[a("i-col",{attrs:{span:"3",offset:"1"}},[a("img",{staticClass:"logo",attrs:{src:"http://static.huijinjiu.com/805351264090795932.png"}})]),e._v(" "),a("i-col",{staticStyle:{"font-size":"23px","margin-top":"30px","margin-left":"30px"},attrs:{span:"3"}},[e._v(" 欢迎注册\n                ")]),e._v(" "),a("i-col",{staticStyle:{color:"#8b8b8b","font-size":"15px","margin-top":"50px"},attrs:{span:"3",offset:"12"}},[e._v(" 已有账号?  \n                "),a("a",{staticStyle:{color:"red"}},[e._v("请登录")])]),e._v(" "),a("i-col",{attrs:{span:"2"}})],1)],1),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticStyle:{width:"400px","margin-left":"auto","margin-right":"auto"}},[a("Card",{staticStyle:{"margin-top":"76px"}},[a("div",{staticStyle:{"text-align":"center","font-size":"17px"}},[e._v("请输入手机号绑定")]),e._v(" "),a("Form",{ref:"phoneFormValidate",staticStyle:{"margin-top":"20px"},attrs:{model:e.phoneFormValidate,rules:e.phoneRuleValidate}},[a("FormItem",{attrs:{prop:"phone_d"}},[a("Input",{attrs:{type:"text",placeholder:"输入常用手机号",size:"large",clearable:""},model:{value:e.phoneFormValidate.phone_d,callback:function(t){e.$set(e.phoneFormValidate,"phone_d",t)},expression:"phoneFormValidate.phone_d"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("中国+86")])])],1),e._v(" "),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:11==e.phoneFormValidate.phone_d.length,expression:"phoneFormValidate.phone_d.length==11"}]},[a("div",{staticClass:"l-captcha",attrs:{"data-site-key":"a61ebded8b92ba71b5272a5f60fc1be7","data-callback":"getCaptchaResponse"}})]),e._v(" "),a("FormItem",{attrs:{prop:"code_d"}},[a("Input",{attrs:{type:"text",placeholder:"请输入短信验证码",clearable:"",size:"large"},model:{value:e.phoneFormValidate.code_d,callback:function(t){e.$set(e.phoneFormValidate,"code_d",t)},expression:"phoneFormValidate.code_d"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("手机验证码")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.checked_d,expression:"!checked_d"}],attrs:{slot:"append"},slot:"append"},[e._v("请先进行人机验证")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.checked_d&&!e.sended_d,expression:"checked_d&&!sended_d"}],attrs:{slot:"append"},on:{click:e.send_code_m},slot:"append"},[e._v("发送验证码")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.sended_d,expression:"sended_d"}],attrs:{slot:"append"},slot:"append"},[e._v(e._s(e.time_d)+"s后重新获取")])])],1),e._v(" "),a("FormItem",[a("Button",{staticClass:"complete",on:{click:function(t){e.phone_bind_m("phoneFormValidate")}}},[e._v("\n                                完成\n                            ")])],1)],1)],1)],1)]),e._v(" "),a("div",{staticClass:"footer"},[a("div",{staticStyle:{width:"750px","margin-left":"auto","margin-right":"auto",height:"14px"}},[a("ul",[a("li",[a("a",{attrs:{href:""}},[e._v("关于我们  ")])]),e._v(" "),a("li",[a("a",{attrs:{href:""}},[e._v("  联系我们  ")])]),e._v(" "),a("li",[a("a",{attrs:{href:""}},[e._v("  人才招聘  ")])]),e._v(" "),a("li",[a("a",{attrs:{href:""}},[e._v("  商家入驻  ")])]),e._v(" "),a("li",[a("a",{attrs:{href:""}},[e._v("  广告服务  ")])]),e._v(" "),a("li",[a("a",{attrs:{href:""}},[e._v("  手机京东  ")])]),e._v(" "),a("li",[a("a",{attrs:{href:""}},[e._v("  友情链接  ")])]),e._v(" "),a("li",[a("a",{attrs:{href:""}},[e._v("  销售联盟  ")])]),e._v(" "),a("li",[a("a",{attrs:{href:""}},[e._v("  京东社区  ")])]),e._v(" "),a("li",[a("a",{attrs:{href:""}},[e._v("  京东公益  ")])]),e._v(" "),a("li",[a("a",{attrs:{href:""}},[e._v("  English Site")])])])]),e._v(" "),a("div",{staticStyle:{width:"240px","margin-left":"auto","margin-right":"auto","padding-top":"16px"}},[e._v("\n                Copyright©2004-2018 京东JD.com版权所有\n            ")])])],1)],1)},o=[];s._withStripped=!0;var n={render:s,staticRenderFns:o};t.a=n}});